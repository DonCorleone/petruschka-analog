<app-base-dialog [title]="data.gig.title">
  <app-dialog-two-column>
    <!-- Main Content Column -->
    <div slot="content">
      @if (data.isHistoryEvent) {
        <app-dialog-info-section title="Historische Aufführung">
          <p><strong>Titel:</strong> {{ data.gig.title }}</p>
          <p><strong>Uraufführung:</strong> {{ data.gig.date.day }} {{ data.gig.date.month }}</p>
        </app-dialog-info-section>
      } @else {
        <app-dialog-info-section title="Veranstaltungsdetails">
          @if (data.gig.eventDateString) {
            <p><strong class="text-nowrap">Datum & Zeit:</strong> 
              <span class="event-datetime">{{ data.gig.eventDateString }}</span>
            </p>
          } @else {
            <p><strong>Datum:</strong> {{ data.gig.date.day }} {{ data.gig.date.month }}</p>
            <p><strong>Tag:</strong> {{ data.gig.dayOfWeek }}</p>
            <p><strong>Zeit:</strong> {{ data.gig.time }}</p>
          }
          <p><strong>Veranstaltungsort:</strong> 
            <span class="location-link" (click)="openLocationDialog(data.gig.location)" title="Ort-Details anzeigen">
              {{ data.gig.location }}
              <i class="fa-solid fa-map-marker-alt ms-1"></i>
            </span>
          </p>
          @if (data.gig.duration) {
            <p><strong>Dauer:</strong> {{ data.gig.duration }}</p>
          }
        </app-dialog-info-section>
      }

      @if (data.gig.shortDescription) {
        <app-dialog-info-section title="Kurzbeschreibung">
          <p class="lead">{{ data.gig.shortDescription }}</p>
        </app-dialog-info-section>
      }
      
      @if (data.gig.longDescription) {
        <app-dialog-info-section [title]="data.isHistoryEvent ? 'Über dieses Stück' : 'Über diese Aufführung'">
          <div [innerHTML]="data.gig.longDescription"></div>
        </app-dialog-info-section>
      }
      
      @if (data.gig.description && !data.gig.shortDescription) {
        <app-dialog-info-section [title]="data.isHistoryEvent ? 'Über dieses Stück' : 'Über diese Aufführung'">
          <p>{{ data.gig.description }}</p>
        </app-dialog-info-section>
      }

      @if (data.gig.artists) {
        <app-dialog-info-section title="Mitwirkende">
          <p>{{ data.gig.artists }}</p>
        </app-dialog-info-section>
      }

      @if (data.gig.importantNotes) {
        <app-dialog-info-section title="Wichtige Hinweise">
          <div class="alert alert-info">
            <h5><i class="fas fa-info-circle"></i> Wichtige Hinweise</h5>
            <p class="mb-0">{{ data.gig.importantNotes }}</p>
          </div>
        </app-dialog-info-section>
      }
      
      @if (data.gig.ticketUrl && data.gig.ticketUrl !== '#' && !data.isHistoryEvent) {
        <app-dialog-info-section title="">
          <a [href]="data.gig.ticketUrl" 
             target="_blank" 
             class="btn btn-primary btn-lg">
            <i class="fa-solid fa-ticket"></i> Tickets kaufen
          </a>
        </app-dialog-info-section>
      }
    </div>

    <!-- Image Column -->
    <div slot="image">
      @if (data.gig.flyerImagePath) {
        <img [src]="data.gig.flyerImagePath" 
             [alt]="data.gig.title + ' Flyer'"
             class="img-fluid">
      }
      
      @if (data.gig.bannerImagePath && !data.gig.flyerImagePath) {
        <img [src]="data.gig.bannerImagePath" 
             [alt]="data.gig.title + ' Banner'"
             class="img-fluid">
      }
    </div>
  </app-dialog-two-column>
</app-base-dialog>