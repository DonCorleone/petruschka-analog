<section class="history-section section section-dark">
  <div class="container" style="max-width: 860px;">
    <div class="text-center mb-5">
        <h2 class="section-title">Vergangene Stücke</h2>
        <div class="section-intro">
            Hier finden Sie eine Übersicht über unsere vergangenen Stücke, die wir in den letzten Jahren aufgeführt haben.
        </div>
    </div>

    @for (event of pastEvents(); track event.id; let i = $index) {
      <div class="history-item py-3 border-bottom border-light-subtle">
        <div class="event-image">
          <img [src]="event.image" [alt]="event.title" class="img-fluid">
        </div>
        <div class="event-info">
          <h4 class="event-title">{{event.title}}</h4>
          <div class="event-subtitle">Uraufführung: <span class="event-date">{{event.date}}</span></div>
          <div class="event-description">{{event.description | slice:0:100}}@if (event.description && event.description.length > 100) {…}</div>
          @if (event.description) {
            <div class="mt-3">
              <button type="button" class="btn btn-xs btn-ghost-secondary" 
                      (click)="openHistoryDetail(event)">
                Mehr Details
              </button>
            </div>
          }
        </div>
      </div>
    }
    
    @if (pastEvents()?.length === 0) {
      <div class="py-4 text-center">
        <p class="text-light">Zur Zeit sind keine vergangenen Stücke verfügbar.</p>
      </div>
    }
  </div>
</section>
