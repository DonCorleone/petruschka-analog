<section class="history-section section">
  <div class="container">
    <div class="section-header text-center">
        <h2 class="section-title">Vergangene Stücke</h2>
        <div class="section-intro">
            Hier finden Sie eine Übersicht über unsere vergangenen Stücke, die wir in den letzten Jahren aufgeführt haben.
        </div>
    </div>

    @for (event of pastEvents(); track event.id; let i = $index) {
      <div class="item">
        <div class="event-image">
          <img [src]="event.image" [alt]="event.title" class="img-fluid">
        </div>
        <div class="event-info">
          <h4 class="event-title">{{event.title}}</h4>
          <div class="event-subtitle">Uraufführung: <span class="event-date">{{event.date}}</span></div>
          <div class="event-description">{{event.description | slice:0:100}}@if (event.description && event.description.length > 100) {…}</div>
          @if (event.description) {
            <div class="event-actions">
              <button type="button" class="btn btn-xs btn-ghost-secondary" 
                      (click)="openHistoryDetail(event)">
                Mehr Details
              </button>
            </div>
          }
        </div>
      </div>
    }
    
    @if (pastEvents()?.length === 0) {
      <div class="item">
        <div class="text-center">
          <p>Zur Zeit sind keine vergangenen Stücke verfügbar.</p>
        </div>
      </div>
    }
  </div>
</section>
